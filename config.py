# =============================================================
# config.py — كل إعدادات النظام في مكان واحد
# عدّل هذا الملف فقط عند تغيير أي إعداد
# =============================================================

import os
from dotenv import load_dotenv

load_dotenv()  # يقرأ من ملف .env تلقائياً

# ─────────────────────────────────────────
# 1. إعدادات Alpaca
# ─────────────────────────────────────────
ALPACA_API_KEY    = os.getenv("ALPACA_API_KEY", "")
ALPACA_SECRET_KEY = os.getenv("ALPACA_SECRET_KEY", "")
ALPACA_BASE_URL   = "https://paper-api.alpaca.markets"  # Paper Trading
ALPACA_DATA_URL   = "https://data.alpaca.markets"

# ─────────────────────────────────────────
# 2. إعدادات Telegram
# ─────────────────────────────────────────
TELEGRAM_TOKEN   = os.getenv("TELEGRAM_TOKEN", "")
TELEGRAM_CHAT_ID = os.getenv("TELEGRAM_CHAT_ID", "")

# ─────────────────────────────────────────
# 3. إدارة المخاطرة
# ─────────────────────────────────────────
RISK_PER_TRADE      = 0.03   # 3% من الرصيد الحالي لكل صفقة
MAX_DAILY_LOSSES    = 2      # إيقاف النظام بعد خسارتين في اليوم
STRATEGY2_LEVERAGE  = 2.0   # رافعة مالية × 2

# ─────────────────────────────────────────
# 4. اختيار الأسهم
# ─────────────────────────────────────────
UNIVERSE_SIZE       = 20          # عدد الأسهم التي يفحصها النظام يومياً
MIN_AVG_VOLUME      = 1_000_000   # أقل حجم تداول يومي مقبول
MIN_PRICE           = 10.0        # أقل سعر للسهم مقبول

# ─────────────────────────────────────────
# 5. استراتيجية Mean Reversion
# ─────────────────────────────────────────
S2_RSI_PERIOD       = 14          # فترة RSI
S2_RSI_OVERSOLD     = 30          # RSI تحت 30 → تشبع بيعي عادي
S2_RSI_HIGH_QUALITY = 25          # RSI تحت 25 → تشبع بيعي عالي الجودة
S2_VWAP_MIN_DEV     = 0.015       # الحد الأدنى للابتعاد عن VWAP = 1.5%
S2_ATR_MIN_PCT      = 0.008       # أدنى ATR مقبول (0.8%) — تجنب السوق الراكد
S2_ATR_MAX_PCT      = 0.030       # أقصى ATR مقبول (3.0%) — تجنب التقلب الشديد
S2_TP1_R            = 1.0         # الهدف الأول = 1R  (50% من الكمية)
S2_TP2_R            = 3.0         # الهدف الثاني = 3R (50% من الكمية)

# ─────────────────────────────────────────
# 6. توقيت السوق (بتوقيت نيويورك)
# ─────────────────────────────────────────
MARKET_OPEN              = "09:30"
MARKET_CLOSE             = "16:00"
PRE_MARKET_ALERT         = 30     # تنبيه قبل الافتتاح بـ 30 دقيقة
NO_OPPORTUNITY_INTERVAL  = 60     # تنبيه "لا توجد فرصة" كل 60 دقيقة
TIMEZONE                 = "America/New_York"

# ─────────────────────────────────────────
# 7. إعدادات البيانات
# ─────────────────────────────────────────
CANDLE_INTERVAL     = "5Min"      # الفريم الزمني الرئيسي
HISTORY_BARS        = 250         # عدد الشموع التاريخية للتحليل
